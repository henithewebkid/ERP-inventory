<div class="table-container">
    <h1>Sales Report</h1>
    <hr>
    <button class="back" routerLink="/dashboard/sales" ><mat-icon>keyboard_arrow_left</mat-icon></button>
    <div class="search-container">
        <form class="form-inline md-form form-sm active-purple-2">
            <input class="form-control form-control-sm mr-3 w-75" type="text" placeholder="Search" [(ngModel)]="term" name="term">
          </form>
    </div>
    <div class="table-c">
        <table class="table">
            <thead>
                <tr>
                    <th style="color: '#1e3f66';">Date</th>
                    <th style="color: '#1e3f66';">Total Price</th>
                    <th style="color: '#1e3f66';" scope="col">Action</th>
                </tr>
            </thead> 
            <tbody>
                <tr *ngFor="let row of reportData | filter:term |  paginate: { itemsPerPage: 6, currentPage: p }">
                    <td>{{row.date}}</td>
                    <td>{{row.TotalSales}} ETB</td>
                    <td>
                        <button class="action-button"  (click)="onViewHistory(salesReport,row)"><mat-icon>visibility</mat-icon></button>
                    </td>
                </tr>
                <pagination-controls (pageChange)="p = $event"></pagination-controls>
            </tbody>
        </table>
    </div>
</div>
<ng-template #salesReport>
    <div class="add-container">
        <h1>{{singleData.date}} Sales Report</h1>
        <hr>
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th style="color: '#1e3f66';">Product Name</th>
                        <th style="color: '#1e3f66';">Product Size</th>
                        <th style="color: '#1e3f66';">Quantity</th>
                        <th style="color: '#1e3f66';">Product Price</th>
                        <th style="color: '#1e3f66';">Total Price</th>
                    </tr>
                </thead> 
                <tbody>
                    <tr *ngFor="let row of singleData.saleReport.sale_report">
                        <td>{{row.productname}}</td>
                        <td>{{row.productwidth}} * {{row.productheight}} * {{row.productthickness}}</td>
                        <td>{{row.productamount}}</td>
                        <td>{{row.productprice}}</td>
                        <td>{{row.totalprice}}</td>
                    </tr>
                    
                    <tr>
                        <td><strong>Total</strong></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td><strong>{{singleData.TotalSales}}</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</ng-template>